<!DOCTYPE html>

<!--Problem 1-->
<html>
<head>
  <title>HW4</title><meta charset="utf-8">
  <style>
  body,div { background-color: #eee; font-family: sans; padding: 1em; }
  </style>
</head>
<body>
  <form action="#">
    <input type="text" id="from" /> <select id="fromUnit">
      <option value="c">Celsius</option>
      <option value="f">Fahrenheit</option>
      <option value="k">Kelvin</option>
    </select>
    =
    <input type="text" id="to" /> <select id="toUnit">
      <option value="c">Celsius</option>
      <option value="f">Fahrenheit</option>
      <option value="k">Kelvin</option>
    </select>
  </form>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js">
  </script>
  <script>

  function update(from, to, uFrom, uTo){
    var x = from.val();
    var uf = uFrom.val();
    var tf = uTo.val();
    if(uf==tf){
      to.val(from.val());
    }
    //convert celsius to kelvin
    else if(uf=="c"){
      from.val((x*1)+273.15);
      uFrom.val("k");
      update(from, to, uFrom, uTo);
      uFrom.val(uf);
      from.val(x);
      console.log("from c")
    }
    //convert kelvin to farenheit
    else if(uf=="k"){
      from.val((x*1.8)-459.67);
      uFrom.val("f");
      update(from, to, uFrom, uTo);
      uFrom.val(uf);
      from.val(x);
      console.log("from k")
    }
    //convert farenheit to celsius
    else if(uf=="f"){
      from.val((x-32)/1.8);
      uFrom.val("c");
      update(from, to, uFrom, uTo);
      uFrom.val(uf);
      from.val(x);
      console.log("from f")
    }
  };

$("#from").keyup(function() {  update($("#from"), $("#to"), $("#fromUnit"), $("#toUnit")) });
$("#fromUnit").change(function() {  update($("#to"), $("#from"), $("#toUnit"), $("#fromUnit")) });

$("#to").keyup(function() {  update($("#to"), $("#from"), $("#toUnit"), $("#fromUnit")) });
$("#toUnit").change(function() {  update($("#from"), $("#to"), $("#fromUnit"), $("#toUnit")) });




  </script>
</body>
</html>