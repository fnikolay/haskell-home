<!DOCTYPE html>

<!--Problem 1-->
<html>
<head>
  <title>HW4</title><meta charset="utf-8">
  <style>
  body,div { background-color: #eee; font-family: sans; padding: 1em; }
  </style>
</head>
<body>
  <form action="#">
    <input type="text" id="from" /> <select id="fromUnit">
      <option value="c">Celsius</option>
      <option value="f">Fahrenheit</option>
      <option value="k">Kelvin</option>
    </select>
    =
    <input type="text" id="to" /> <select id="toUnit">
      <option value="c">Celsius</option>
      <option value="f">Fahrenheit</option>
      <option value="k">Kelvin</option>
    </select>
  </form>
  
  <!--<span style="font-size:100pt" id="test">"TEST"</span>-->
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js">
  </script>
  <!-- Main Javascript code-->
  <script>
  function update(from, to, uFrom, uTo){
    var x = from.val();
    var uf = uFrom.val();
    var tf = uTo.val();
    if(uf==tf){
      to.val(from.val());
    }
    //convert celsius to kelvin
    else if(uf=="c"){
      from.val((x*1)+273.15);
      uFrom.val("k");
      update(from, to, uFrom, uTo);
      uFrom.val(uf);
      from.val(x);
      console.log("from c")
    }
    //convert kelvin to farenheit
    else if(uf=="k"){
      from.val((x*1.8)-459.67);
      uFrom.val("f");
      update(from, to, uFrom, uTo);
      uFrom.val(uf);
      from.val(x);
      console.log("from k")
    }
    //convert farenheit to celsius
    else if(uf=="f"){
      from.val((x-32)/1.8);
      uFrom.val("c");
      update(from, to, uFrom, uTo);
      uFrom.val(uf);
      from.val(x);
      console.log("from f")
    }
  };

  $("#from").keyup(function() {  update($("#from"), $("#to"), $("#fromUnit"), $("#toUnit")) });
  $("#fromUnit").change(function() {  update($("#to"), $("#from"), $("#toUnit"), $("#fromUnit")) });

  $("#to").keyup(function() {  update($("#to"), $("#from"), $("#toUnit"), $("#fromUnit")) });
  $("#toUnit").change(function() {  update($("#from"), $("#to"), $("#fromUnit"), $("#toUnit")) });

  //----------------------problem 5--------------------//
  function randInt(min, max) {
    return Math.floor(Math.random() * (max-min+1) + min);
  };

  //---------------------problem 6-----------------------//
  function createDice(sides){
	  return function(){
	    return randInt(1,sides);
	  };
  };
  //---------------------problem 7------------------------//
  var d6 = createDice(6); 
  function Dice() {
    // creates a new instance
    // should assign the "this.el" property to be a jQuery-wrapped
    // <span> HTML element with the CSS class "d6" using one of the
    // icons as inner text.
	//console.log(d6() - 1);
    this.icons = "⚀⚁⚂⚃⚄⚅";
	this.el = $('<span/>', {style: "font-size:100pt", class: 'd6', html: this.icons[d6() - 1]});
    //this.el = $('<span style="font-size:100pt" id="showDice"/>').html(this.icons[d6() - 1]);
  };

  Dice.prototype.render = function() {
    // updates the HTML representation by changing the icon in the
    // jQuery-wrapped element in the "this.el" property
	return this.el.html(this.icons[d6() - 1]);
  };

  Dice.prototype.roll = function() {
    // rolls this die and updates the representation
	return this.render().appendTo($("body"));
  };
  //-----------------------problem 8-------------------------------//
  var dice = new Dice();
  dice.roll();
  function rollDice (d){
    d.roll();
  };
  $(".d6").on("click", function(){
	rollDice(dice);
  });
  
  //-------------------problem 9-----------------------------------//
  </script>
</body>
</html>