<!DOCTYPE html>

<!--Problem 1-->
<html>
<head>
  <title>HW4</title><meta charset="utf-8">
  <style>
  body,div { background-color: #eee; font-family: sans; padding: 1em; }
  </style>
</head>
<body>
  <form action="#">
    <!--<input type="text" id="from" /> Celsius-->
	<input type="text" id="from" /> <select id="fromUnit">
      <option value="fc">Celsius</option>
      <option value="ff">Fahrenheit</option>
      <option value="fk">Kelvin</option>
    </select>
    =
    <input type="text" id="to" /> <select id="toUnit">
      <option value="c">Celsius</option>
      <option value="f">Fahrenheit</option>
      <option value="k">Kelvin</option>
    </select>
  </form>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js">
  </script>
  <script>

  function celsToCels() {
    $("#from").keyup(function() {
		var cels = $("#from").val();
		if (!cels.match(/\S/)){
		  $("#to").val("");
		} else {
		  $("#to").val(cels);
		  console.log("called");
		}
	});
  };

  function celsToFahr() {
    $("#from").keyup(function() {
		var cels = $("#from").val();
		if (!cels.match(/\S/)){
			$("#to").val("");
		} else {
			$("#to").val((cels * 1.8) + 32);
		}
	});
  };

  function celsToKelv() {
    $("#from").keyup(function() {
		var cels = $("#from").val();
		if (!cels.match(/\S/)){
		  $("#to").val("");
		} else {
		  $("#to").val((cels * 1) + 273);
		}
	});
  };
  
  //function 

  function funcSelector(){
    $("#toUnit").change(function() {
      var cels = $("#from").val();
      if(this.value=="f"){
        $("#to").val((cels * 1.8) + 32);
        $(celsToFahr());
      }
      else if(this.value=="k"){
        $("#to").val((cels * 1) + 273);
        $(celsToKelv());
      }
      else{
        $("#to").val(cels);
        $(celsToCels());
      }
    });
  };

  function startConv(){
    $(celsToCels);
    $(funcSelector);
  };


  //$(document).ready(startConv);
  $(startConv);
  </script>
</body>
</html>